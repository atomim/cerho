<!DOCTYPE html>
<html>

<head>
<link rel="stylesheet" href="css/style.css">
<script src="jquery203.min.js"></script>
<script src="keypress-2.0.1.min.js"></script>
<script src="webgl-utils.js"></script>
<script src="utils.js"></script>
<script src="profiler.js"></script>
<script src="transport.js"></script>
<script src="assets.js"></script>
<script src="effect.js"></script>
<script src="playlist.js"></script>
<script src="demo.js"></script>
</head>

<body>
<canvas id="viewport">

</canvas>

<br>
<span id="frametime"></span>
<br>
<span id="error"></span>

<script>
function viewwidth(){
   return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0;
}
function viewheight(){
   return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0;
}

var initialize = function (demodata) {
	var demo = Demo;

	var width = viewwidth();
	var height = width * (9.0/16.0);

	$('#viewport').attr("width", width);
	$('#viewport').attr("height", height);

    console.log(width, height);

    demo.init(
            $('#viewport').get(0), 
            demodata,
            function () {
                demo.run(); 
            });
}

$.getJSON("invi.json", null, function(data, status, jqXHR) {
        initialize(data);
        });

</script>
</body>
</html>
